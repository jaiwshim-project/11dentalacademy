<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ìš©ì ìœ í˜• ì„ íƒ | ë´íƒˆí´ë¦¬ë‹‰íŒŒì¸ë” í™˜ììƒë‹´ AI ì•„ì¹´ë°ë¯¸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a5f7a;
            --dark: #1a1a2e;
            --gray: #6b7280;
            --light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            width: 100%;
        }

        .logo-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }

        .logo span {
            background: linear-gradient(135deg, #feca57, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo .academy-name {
            display: block;
            color: #ffd700;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 5px;
            -webkit-text-fill-color: #ffd700;
            background: none;
        }

        .selection-card {
            background: white;
            border-radius: 24px;
            padding: 40px 30px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
            text-align: center;
        }

        .selection-card h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .selection-card p {
            font-size: 0.95rem;
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .option-card {
            flex: 1;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 3px solid transparent;
            border-radius: 16px;
            padding: 25px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .option-card.free:hover {
            border-color: #10b981;
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        }

        .option-card.paid:hover {
            border-color: #8b5cf6;
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
        }

        .option-card.free.selected {
            border-color: #10b981;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .option-card.paid.selected {
            border-color: #8b5cf6;
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        }

        .option-card.selected .option-icon,
        .option-card.selected .option-title,
        .option-card.selected .option-desc {
            color: white;
        }

        .option-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .option-title {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .option-desc {
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.5;
        }

        .option-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .option-card.free .option-badge {
            background: #d1fae5;
            color: #059669;
        }

        .option-card.paid .option-badge {
            background: #ede9fe;
            color: #7c3aed;
        }

        .option-card.selected .option-badge {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .confirm-btn {
            width: 100%;
            padding: 16px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .confirm-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }

        .confirm-btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .back-link {
            display: block;
            margin-top: 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: white;
        }

        .features-list {
            text-align: left;
            margin-top: 12px;
            padding-left: 5px;
        }

        .features-list li {
            font-size: 0.75rem;
            color: var(--gray);
            margin-bottom: 4px;
            list-style: none;
            position: relative;
            padding-left: 15px;
        }

        .features-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #10b981;
        }

        .option-card.paid .features-list li::before {
            color: #8b5cf6;
        }

        .option-card.tester:hover {
            border-color: #f59e0b;
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        }

        .option-card.tester.selected {
            border-color: #f59e0b;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .option-card.tester .option-badge {
            background: #fef3c7;
            color: #d97706;
        }

        .option-card.tester .features-list li::before {
            color: #f59e0b;
        }

        .option-card.selected .features-list li {
            color: rgba(255,255,255,0.9);
        }

        .option-card.selected .features-list li::before {
            color: rgba(255,255,255,0.9);
        }

        @media (max-width: 600px) {
            .options {
                flex-direction: column;
            }

            .selection-card {
                padding: 30px 20px;
            }

            .selection-card h1 {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-section">
            <a href="index.html" class="logo">
                ë´íƒˆí´ë¦¬ë‹‰<span>íŒŒì¸ë”</span>
                <span class="academy-name">ì¹˜ê³¼ í™˜ììƒë‹´ AI ì•„ì¹´ë°ë¯¸</span>
            </a>
        </div>

        <div class="selection-card">
            <h1>ì‚¬ìš©ì ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
            <p>ì„ íƒí•˜ì‹  ìœ í˜•ì— ë”°ë¼ ë§ì¶¤ ì½˜í…ì¸ ê°€ ì œê³µë©ë‹ˆë‹¤</p>

            <div class="options">
                <div class="option-card free" onclick="selectOption('free')">
                    <span class="option-badge">ë¬´ë£Œ</span>
                    <span class="option-icon">ğŸ</span>
                    <div class="option-title">ë¬´ë£Œ ì‚¬ìš©ì</div>
                    <div class="option-desc">ë¬´ë£Œ ì½˜í…ì¸ ë§Œ ì´ìš©í•©ë‹ˆë‹¤</div>
                    <ul class="features-list">
                        <li>ë¬´ë£Œ ê°•ì˜ 4ê°œ ì‹œì²­</li>
                        <li>ìë£Œì‹¤ ì´ìš© ë¶ˆê°€</li>
                        <li>AI íŠœí„° ì²´í—˜</li>
                    </ul>
                </div>

                <div class="option-card paid" onclick="selectOption('paid')">
                    <span class="option-badge">í”„ë¦¬ë¯¸ì—„</span>
                    <span class="option-icon">ğŸ‘‘</span>
                    <div class="option-title">ìœ ë£Œ ì‚¬ìš©ì</div>
                    <div class="option-desc">ì „ì²´ ì½˜í…ì¸ ë¥¼ ì´ìš©í•©ë‹ˆë‹¤</div>
                    <ul class="features-list">
                        <li>ì „ì²´ ê°•ì˜ 28ê°œ ì‹œì²­</li>
                        <li>ìë£Œì‹¤ ì „ì²´ ì—´ëŒ</li>
                        <li>AI íŠœí„° ë¬´ì œí•œ</li>
                    </ul>
                </div>

                <div class="option-card tester" onclick="selectOption('tester')">
                    <span class="option-badge">í…ŒìŠ¤íŠ¸</span>
                    <span class="option-icon">ğŸ”§</span>
                    <div class="option-title">í…ŒìŠ¤í„°ìš©</div>
                    <div class="option-desc">í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì´ìš©í•©ë‹ˆë‹¤</div>
                    <ul class="features-list">
                        <li>ì „ì²´ ê°•ì˜ 28ê°œ ì‹œì²­</li>
                        <li>ìë£Œì‹¤ ì „ì²´ ì—´ëŒ</li>
                        <li>AI íŠœí„° ë¬´ì œí•œ</li>
                    </ul>
                </div>
            </div>

            <!-- í…ŒìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ -->
            <div id="testerPasswordGroup" style="display:none; margin-bottom: 20px;">
                <input type="password" id="testerPassword" placeholder="í…ŒìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                    style="width:100%; padding:14px 16px; border:2px solid #e5e7eb; border-radius:12px; font-size:1rem; font-family:'Noto Sans KR',sans-serif; text-align:center; outline:none; transition:border-color 0.3s;"
                    onfocus="this.style.borderColor='#f59e0b'" onblur="this.style.borderColor='#e5e7eb'"
                    onkeydown="if(event.key==='Enter') confirmSelection()">
                <p id="testerError" style="color:#ef4444; font-size:0.85rem; margin-top:8px; display:none;">ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
            </div>

            <button class="confirm-btn" id="confirmBtn" disabled onclick="confirmSelection()">
                ì„ íƒ í›„ ê³„ì†í•˜ê¸°
            </button>
        </div>

        <a href="#" onclick="resetSelection(); return false;" class="back-link">ì„ íƒ ì´ˆê¸°í™”</a>
    </div>

    <script>
        let selectedType = null;
        const urlParams = new URLSearchParams(window.location.search);
        const destination = urlParams.get('dest') || 'index.html#home';

        function selectOption(type) {
            selectedType = type;

            // Update UI
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`.option-card.${type}`).classList.add('selected');

            // Enable button
            document.getElementById('confirmBtn').disabled = false;
            var btnText = type === 'free' ? 'ë¬´ë£Œ ì‚¬ìš©ìë¡œ ê³„ì†í•˜ê¸°' : type === 'paid' ? 'ìœ ë£Œ ì‚¬ìš©ìë¡œ ê³„ì†í•˜ê¸°' : 'í…ŒìŠ¤í„°ë¡œ ê³„ì†í•˜ê¸°';
            document.getElementById('confirmBtn').textContent = btnText;

            // í…ŒìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í‘œì‹œ/ìˆ¨ê¹€
            document.getElementById('testerPasswordGroup').style.display = type === 'tester' ? 'block' : 'none';
            document.getElementById('testerError').style.display = 'none';
            if (type === 'tester') {
                document.getElementById('testerPassword').value = '';
                setTimeout(function() { document.getElementById('testerPassword').focus(); }, 100);
            }
        }

        function confirmSelection() {
            if (!selectedType) return;

            if (selectedType === 'free') {
                // ë¬´ë£Œ ì‚¬ìš©ì: ë°”ë¡œ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
                localStorage.setItem('userType', 'free');
                localStorage.setItem('userTypeSelected', 'true');
                sessionStorage.setItem('userTypeSelectedThisSession', 'true');

                if (destination.startsWith('#')) {
                    window.location.href = 'index.html' + destination;
                } else if (destination.startsWith('http')) {
                    window.open(destination, '_blank');
                    window.location.href = 'index.html';
                } else {
                    window.location.href = destination;
                }
            } else if (selectedType === 'tester') {
                // í…ŒìŠ¤í„°: ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ ìœ ë£Œ ê¶Œí•œ ë¶€ì—¬
                var pw = document.getElementById('testerPassword').value.trim();
                if (pw !== '12345') {
                    document.getElementById('testerError').style.display = 'block';
                    document.getElementById('testerPassword').value = '';
                    document.getElementById('testerPassword').focus();
                    return;
                }
                localStorage.setItem('userType', 'paid');
                localStorage.setItem('userTypeSelected', 'true');
                sessionStorage.setItem('userTypeSelectedThisSession', 'true');

                // í…ŒìŠ¤í„°ìš© ì‚¬ìš©ì ì •ë³´ ì„¤ì •
                var testerUser = { id: 'tester', name: 'í…ŒìŠ¤í„°', clinic: 'í…ŒìŠ¤íŠ¸', role: 'tester', password: '12345' };
                localStorage.setItem('currentPaidUser', JSON.stringify(testerUser));

                if (destination.startsWith('#')) {
                    window.location.href = 'index.html' + destination;
                } else if (destination.startsWith('http')) {
                    window.open(destination, '_blank');
                    window.location.href = 'index.html';
                } else {
                    window.location.href = destination;
                }
            } else {
                // ìœ ë£Œ ì‚¬ìš©ì: ìœ ë£Œ ì‚¬ìš©ì ì„ íƒ/ë“±ë¡ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = 'paid-user-select.html?dest=' + encodeURIComponent(destination);
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            // ì´ì „ ì„ íƒ í‘œì‹œ ì œê±°
        };

        // ì‚¬ìš©ì ìœ í˜• ì´ˆê¸°í™” í•¨ìˆ˜
        function resetSelection() {
            localStorage.removeItem('userType');
            sessionStorage.removeItem('userTypeSelectedThisSession');
            selectedType = null;
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById('confirmBtn').disabled = true;
            document.getElementById('confirmBtn').textContent = 'ì„ íƒ í›„ ê³„ì†í•˜ê¸°';
        }
    </script>
</body>
</html>
